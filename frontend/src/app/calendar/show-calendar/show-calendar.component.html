<div class="container">
  <h1>Zarezerwuj termin</h1>
  <form #userForm="ngForm" (ngSubmit)="onSubmitForm()">
    <div class="form-group">
      <label>Czas trwania zajęć:</label>
      <select [(ngModel)]="lessonTime" [ngModelOptions]="{standalone: true}" class="form-control">
        <option *ngFor="let lessonTime of lessonTimes" [id]="lessonTime" [ngValue]="lessonTime">{{ lessonTime }} minut
        </option>
      </select>
    </div>
    <div class="form-group">
      <label>Nauczyciel:</label>
      <select [(ngModel)]="tutorId" [ngModelOptions]="{standalone: true}" class="form-control">
        <option *ngFor="let tutor of tutors" [id]="tutor.id" [ngValue]="tutor.id">{{ tutor.name }} {{ tutor.surname }}
        </option>
      </select>
    </div>
    <button class="btn btn-primary" type="submit">Wyszukaj terminy</button>
  </form>
</div>
<hr>
<!-- Godziny + zatwierdź -->
<div *ngIf="formSubmitted">
  <div
    style="display: flex; width: 100%; padding-left: 15px; padding-right: 15px; flex-wrap: wrap; justify-content: space-between">
    <div *ngFor="let day of calendarDates | keyvalue" class="col-md-3" style="text-align: center">
      <h4>{{ day.key | date:'fullDate' }}</h4>
      <hr>
      <form #userForm="ngForm"
            (submit)="confirmReservation(userForm, day.key)"
            [id]="day.key"
            class="form">
        <div>
          <div *ngFor="let dayValues of day.value">
            <input [ngModel]="startDateTime" name="startDateTime" type="hidden">
            <input [ngModel]="endDateTime" name="endDateTime" type="hidden">
            <button
              (click)="userForm.value.startDateTime = dayValues.fromHour; userForm.value.endDateTime = dayValues.untilHour"
              class="btn btn-primary col-md-8 col-md-offset-2" style="margin-top: 4px"
              type="submit">{{ dayValues.fromHour }}
            </button>
          </div>
          <br/>
        </div>
      </form>
    </div>
  </div>
</div>
